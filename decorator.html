<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
  用户名：<input id="username" type="text">
  密码：<input id="password" type="password">
  <input type="button" id="submitBtn" value="提交">
  <script>

       var username = document.getElementById("username");
       var password = document.getElementById("password");
       var submitBtn = document.getElementById("submitBtn");

       function ajax(url,param){
         console.log(url+"+"+param);
       }

       Function.prototype.before = function(beforefn){
           var _self = this;
           return function(){
              if(beforefn.apply(this,arguments) === false){
                 return;
              }
              return _self.apply(this,arguments);
           }
       }

       var validata = function(){
          if(username.value === ''){
             alert("用户名不能为空！");
             return false;
          }
          if(password.value === ''){
            alert("密码不能为空！");
            return false;
          }
       }

       var formSubmit = function(){
           var param = {
             username:username.value,
             password:password.value
           }

           ajax("http://www.baidu.com",param);
       }

       formSubmit = formSubmit.before(validata);

       submitBtn.onclick = function(){
         formSubmit();
       }
  </script>
</body>
</html>